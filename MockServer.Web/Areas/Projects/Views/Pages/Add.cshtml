@{
    ViewBag.Title = "新建项目";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section pagestyle{
    <link href="~/Content/Local/demo.css" rel="stylesheet" />
}

<div id="app">
    <div class="portlet light col-md-12">
        <div class="portlet-title">
            <div class="caption caption-md">
                <span class="caption-subject theme-font bold">新建项目</span>
            </div>
        </div>
        <div class="portlet-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-8">
                        <el-form ref="project" :model="project" label-width="200px" :rules="rules">
                            <el-form-item label="项目名称:" prop="Name">
                                <el-input v-model="project.Name" placeholder="请输入名称..."></el-input>
                            </el-form-item>
                            <el-form-item label="拥有人:" prop="Owner">
                                <el-select v-model="project.Owner" clearable filterable placeholder="请选择拥有人...">
                                    <el-option v-for="user in users" :label="user.UserName+user.WorkId" :value="user.UserName+user.WorkId"></el-option>
                                </el-select>
                            </el-form-item>

                            <el-form-item label="模拟项目功能描述:" prop="Description">
                                <el-input type="textarea" v-model="project.Description" :rows="5"></el-input>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary" v-on:click="submitForm('project')">立即创建</el-button>
                                <el-button v-on:click="resetForm('project')">重置</el-button>
                            </el-form-item>
                        </el-form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="urls"
     data-add="@Url.Action("Add","Api",new {Area="Projects" })"
     data-users="@Url.Action("GetAllUsers","Api",new {Area="Users" })">
</div>

@section scripts {
    <script src="~/Scripts/Project/add.js"></script>
    <script>
        jQuery(document).ready(function () {
            add.init();
        });
    </script>
}